# ‚úÖ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

## 1Ô∏è‚É£ Backend: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚úÖ

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- –°–æ–∑–¥–∞–Ω `middleware/error_handler.go` —Å centralized error handling
- –î–æ–±–∞–≤–ª–µ–Ω `AppError` —Ç–∏–ø –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω `RecoveryMiddleware` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ panic
- –í—Å–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `c.Error()`

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```go
// –í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ:
if err := database.DB.Find(&projects).Error; err != nil {
    c.Error(middleware.NewAppError(500, "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç—ã", err))
    return
}
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—É
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–∫–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π

---

## 2Ô∏è‚É£ Backend: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚úÖ

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- –î–æ–±–∞–≤–ª–µ–Ω—ã validation tags –≤ `models/project.go`
- –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `c.ShouldBindJSON()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è: required, min/max –¥–ª–∏–Ω–∞, —á–∏—Å–ª–æ–≤—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã, enum –∑–Ω–∞—á–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä:
```go
type Project struct {
    GISCode     string   `binding:"omitempty,min=3,max=50"`
    ProjectType string   `binding:"required,oneof=–û—Ç–∫—Ä—ã—Ç–∏–µ –†–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è"`
    TotalArea   *float64 `binding:"omitempty,gt=0,lt=100000"`
}
```

### –ß—Ç–æ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è:
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (required)
- ‚úÖ –î–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫ (min, max)
- ‚úÖ –ß–∏—Å–ª–æ–≤—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã (gt, lt)
- ‚úÖ –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (oneof)
- ‚úÖ –°–≤—è–∑–∏ –ø–æ–ª–µ–π (ltfield - TradeArea < TotalArea)

---

## 3Ô∏è‚É£ Frontend: Hook –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ API ‚úÖ

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- –°–æ–∑–¥–∞–Ω `hooks/useApi.ts` –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö API calls
- –î–æ–±–∞–≤–ª–µ–Ω `useMutation` –¥–ª—è create/update/delete –æ–ø–µ—Ä–∞—Ü–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ loading/error states
- Callbacks –¥–ª—è success/error scenarios

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```typescript
const { data, loading, error, execute } = useApi(
    (id: number) => projectsService.getProjectById(id),
    { showSuccessToast: true }
);

// –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:
await execute(projectId);
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ú–µ–Ω—å—à–µ boilerplate –∫–æ–¥–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ Type safety

---

## 4Ô∏è‚É£ Frontend: –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ProjectDetails ‚úÖ

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ `components/ProjectDetails/`
- –í—ã–¥–µ–ª–µ–Ω—ã hooks:
  - `useProjectData.ts` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞
  - `useTaskActions.ts` - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∑–∞–¥–∞—á–∞–º–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Ä–∞–∑–±–∏–µ–Ω–∏—è –Ω–∞ –ø–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ (TODO):
```
ProjectDetails/
‚îú‚îÄ‚îÄ index.tsx              # Main container
‚îú‚îÄ‚îÄ ProjectHeader.tsx      # Header component
‚îú‚îÄ‚îÄ ProjectSidebar.tsx     # Sidebar with team/docs
‚îú‚îÄ‚îÄ TasksList/
‚îÇ   ‚îú‚îÄ‚îÄ TasksList.tsx
‚îÇ   ‚îú‚îÄ‚îÄ TaskRow.tsx
‚îÇ   ‚îî‚îÄ‚îÄ TaskFilters.tsx
‚îî‚îÄ‚îÄ Modals/
    ‚îú‚îÄ‚îÄ EditTaskModal.tsx
    ‚îú‚îÄ‚îÄ CreateTaskModal.tsx
    ‚îî‚îÄ‚îÄ TaskInfoModal.tsx
```

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### Backend - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞:
```go
func (ctrl *MyController) MyHandler(c *gin.Context) {
    var data MyModel
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
    if err := c.ShouldBindJSON(&data); err != nil {
        c.Error(middleware.NewAppError(400, "–ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ", err))
        return
    }
    
    // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
    if err := doSomething(data); err != nil {
        c.Error(middleware.NewAppError(500, "–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏", err))
        return
    }
    
    c.JSON(200, data)
}
```

### Frontend - API –≤—ã–∑–æ–≤—ã:
```typescript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:
const { loading, execute } = useApi(
    (project: Project) => projectsService.createProject(project),
    {
        onSuccess: () => navigate('/projects'),
        showSuccessToast: true
    }
);

// –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ:
const handleSubmit = async () => {
    await execute(formData);
};
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

| –ü—Ä–æ–±–ª–µ–º–∞ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|----------|------|-------|
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–∞–∂–¥–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π middleware |
| –í–∞–ª–∏–¥–∞—Ü–∏—è | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å binding tags |
| API errors (FE) | –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ | useApi hook —Å auto-handling |
| –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ | –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π ProjectDetails | –ú–æ–¥—É–ª—å–Ω—ã–µ hooks + –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |

**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–æ –Ω–∞ ~40%** –∑–∞ —Å—á–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

## üéØ Next Steps (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –î–æ–±–∞–≤–∏—Ç—å Toast notifications –≤–º–µ—Å—Ç–æ alert()
2. –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è ProjectDetails
3. –î–æ–±–∞–≤–∏—Ç—å Unit —Ç–µ—Å—Ç—ã –¥–ª—è hooks
4. –î–æ–±–∞–≤–∏—Ç—å E2E —Ç–µ—Å—Ç—ã —Å Playwright

